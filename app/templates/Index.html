<!DOCTYPE html>
<html lang="en">
  {% load static %}
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phoxia App</title>

    <!-- âœ… Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{% static './css/index.css' %}" />
    <link rel="shortcut icon" href="{% static './images/favicon1.ico' %}" type="image/x-icon" />
  </head>
  <body class="bg-gray-100 text-gray-900">

    {% include 'navbar.html' %}

    <main class="container mx-auto px-4 py-6">
      <div class="grid gap-6">
        <!-- USER POSTS START HERE -->
        {% for post in posts %}
        <div class="bg-white shadow-md rounded-lg overflow-hidden">
          <!-- Post Header -->
          <div class="flex items-center gap-4 px-4 py-3 border-b">
            <img
              src="{{ post.profile.profile_picture.url }}"
              alt="User Profile"
              class="w-10 h-10 rounded-full object-cover"
            />
            <h4 class="text-sm font-medium text-gray-800">{{ post.profile.user }}</h4>
          </div>

          <!-- Post Image -->
          <img src="{{ post.Wallpaper.url }}" alt="Post Image" class="w-full max-h-[500px] object-cover" />

          <!-- Actions -->
          <div class="flex items-center justify-between px-4 py-2">
            <div class="flex items-center gap-3">
              <a href="/like/{{ post.id }}" aria-label="Like" class="hover:scale-105 transition-transform">
                <svg
                  class="w-6 h-6 text-gray-500 hover:text-red-500 transition-colors"
                  fill="#262626"
                  viewBox="0 0 48 48"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3z"/>
                </svg>
              </a>
              <span class="text-sm text-gray-600">{{ post.likes.count }}</span>
            </div>

            {% if post.Wallpaper %}
              <a href="{{ post.Wallpaper.url }}" download class="text-sm text-blue-600 hover:underline">Download</a>
            {% endif %}
          </div>

          <!-- Description -->
          {% if post.description %}
          <div class="px-4 pb-4">
            <p class="text-sm text-gray-700">{{ post.description }}</p>
          </div>
          {% endif %}
        </div>
        {% endfor %}
        <!-- USER POSTS END HERE -->
      </div>
    </main>

    <script src="{% static './script.js' %}"></script>
  </body>
</html>
